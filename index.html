<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LoopMeets</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f6f7f8;
      --card: #ffffff;
      --ink: #222;
      --muted: #666;
      --line: #e6e8eb;
      --brand: #0f766e;
      --brand-ink: #fff;
      --danger: #b91c1c;
    }
    * { box-sizing: border-box; }
    body { margin:0; font-family:'Inter',sans-serif; background:var(--bg); color:var(--ink); }
    header { background:#fff; border-bottom:1px solid var(--line); position:sticky; top:0; z-index:5; }
    .wrap { max-width:1000px; margin:0 auto; padding:1rem; display:flex; align-items:center; gap:1rem; }
    .brand { display:flex; align-items:center; gap:.6rem; }
    .brand h1 { font-size:1.25rem; margin:0; }
    nav { margin-left:auto; display:flex; gap:.5rem; flex-wrap:wrap; }
    nav a, nav button {
      appearance:none; border:1px solid var(--line); background:#fff; color:var(--ink);
      padding:.5rem .9rem; border-radius:10px; cursor:pointer; font-weight:600; text-decoration:none;
    }
    nav a:hover, nav button:hover { background:#f2f3f5; }
    .userchip { display:flex; align-items:center; gap:.5rem; padding:.2rem .6rem; border:1px solid var(--line); border-radius:999px; }
    .userchip img { width:28px; height:28px; border-radius:50%; object-fit:cover; }

    main { max-width:1000px; margin:2rem auto; padding:0 1rem; }
    .page { display:none; }
    .page.active { display:block; }

    .card { background:var(--card); border:1px solid var(--line); border-radius:14px; padding:1rem; box-shadow:0 1px 2px rgba(0,0,0,.04); }
    .stack { display:grid; gap:1rem; }
    .grid { display:grid; gap:1rem; grid-template-columns: repeat(12, 1fr); }
    .col-3 { grid-column: span 3; } .col-4 { grid-column: span 4; } .col-6 { grid-column: span 6; } .col-8 { grid-column: span 8; } .col-12 { grid-column: span 12; }

    h2 { margin:0 0 .5rem; font-size:1.25rem; }
    h3 { margin:0 0 .5rem; font-size:1.05rem; color:#111; }
    p.muted { color:var(--muted); margin:.25rem 0 0; }

    label { font-size:.9rem; color:#1b1b1b; }
    input, select, button, textarea {
      width:100%; padding:.7rem .8rem; border:1px solid var(--line);
      border-radius:10px; font-size:1rem; background:#fff; color:var(--ink);
    }
    input[type="datetime-local"] { padding:.6rem .8rem; }
    textarea { min-height:100px; }
    button.primary { background:var(--brand); color:var(--brand-ink); border-color:transparent; }
    button.primary:hover { filter:brightness(0.95); }
    button.ghost { background:#fff; border:1px solid var(--line); }
    .row { display:flex; gap:.6rem; align-items:center; flex-wrap:wrap; }
    .actions { display:flex; gap:.5rem; flex-wrap:wrap; }
    .hidden { display:none; }
    .center { text-align:center; }
    .spacer { height:12px; }
    .badge { display:inline-block; padding:.2rem .5rem; border-radius:999px; background:#eef2f6; color:#334155; font-size:.8rem; }
    .loop { border:1px solid var(--line); border-radius:12px; padding:.8rem; display:grid; gap:.4rem; }
    .meta { color:var(--muted); font-size:.9rem; }
    .full { color:var(--danger); font-weight:600; }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="brand">
        <img id="headerPhoto" alt="Profile" width="32" height="32" style="border-radius:50%; object-fit:cover;">
        <h1>LoopMeets</h1>
      </div>

      <div class="userchip" id="userChip" title="Signed out">
        <img id="chipPhoto" alt="User">
        <span id="chipName">Guest</span>
      </div>

      <nav id="navSignedOut">
        <a href="#/home">Home</a>
        <a href="#/login">Login</a>
        <a href="#/register">Register</a>
      </nav>

      <nav id="navSignedIn" class="hidden">
        <a href="#/all">All Loops</a>
        <a href="#/matched">Matched</a>
        <a href="#/my">My Loops</a>
        <a href="#/profile">My Profile</a>
        <button id="logoutBtn" type="button">Logout</button>
      </nav>
    </div>
  </header>

  <main class="stack">

    <!-- Home (signed-out landing) -->
    <section id="page-home" class="page active">
      <div class="card center">
        <h2>Welcome to LoopMeets</h2>
        <p class="muted">Connect. Travel. Belong.</p>
        <div class="spacer"></div>
        <div class="actions center" style="justify-content:center;">
          <a class="primary" style="width:auto; text-decoration:none; padding:.7rem 1rem; border-radius:10px; background:#0f766e; color:#fff;" href="#/register">Get Started</a>
          <a style="width:auto; text-decoration:none; padding:.7rem 1rem; border-radius:10px; border:1px solid var(--line);" href="#/login">I already have an account</a>
        </div>
      </div>
    </section>

    <!-- Login -->
    <section id="page-login" class="page">
      <div class="card">
        <h2>Login</h2>
        <div class="grid">
          <div class="col-6">
            <label>Email</label>
            <input type="email" id="loginEmail" placeholder="you@example.com" />
          </div>
          <div class="col-6">
            <label>Password</label>
            <input type="password" id="loginPassword" placeholder="••••••••" />
          </div>
          <div class="col-12 actions">
            <button id="loginBtn" class="primary" type="button">Login</button>
            <a href="#/register">Create an account</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Register (with profile + preferences) -->
    <section id="page-register" class="page">
      <div class="card stack">
        <h2>Create your account</h2>
        <div class="grid">
          <div class="col-6">
            <label>Email</label>
            <input type="email" id="regEmail" placeholder="you@example.com" />
          </div>
          <div class="col-6">
            <label>Password</label>
            <input type="password" id="regPassword" placeholder="Choose a secure password" />
          </div>
          <div class="col-6">
            <label>Username</label>
            <input type="text" id="regUsername" placeholder="Display name" />
          </div>
          <div class="col-6">
            <label>Profile Photo</label>
            <input type="file" id="regPhoto" accept="image/*" />
          </div>
        </div>

        <h3>Preferences</h3>
        <div class="grid">
          <div class="col-4">
            <label>Climate</label>
            <select id="regClimate">
              <option value="">Select</option><option value="cold">Cold</option><option value="temperate">Temperate</option><option value="warm">Warm</option>
            </select>
          </div>
          <div class="col-4">
            <label>Pace</label>
            <select id="regPace">
              <option value="">Select</option><option value="relaxed">Relaxed</option><option value="moderate">Moderate</option><option value="adventurous">Adventurous</option>
            </select>
          </div>
          <div class="col-4">
            <label>Budget</label>
            <select id="regBudget">
              <option value="">Select</option><option value="low">Low</option><option value="medium">Medium</option><option value="high">High</option>
            </select>
          </div>
          <div class="col-12">
            <label>Activities (comma separated)</label>
            <input type="text" id="regActivities" placeholder="hiking, sushi, museums" />
          </div>
        </div>

        <div class="actions">
          <button id="registerBtn" class="primary" type="button">Register</button>
          <a href="#/login">Already have an account?</a>
        </div>
      </div>
    </section>

    <!-- All Loops -->
    <section id="page-all" class="page">
      <div class="card stack">
        <div class="row" style="justify-content:space-between;">
          <h2>All Loops</h2>
          <button id="openCreateLoop" class="primary" type="button" style="width:auto;">Create Loop</button>
        </div>

        <!-- Create Loop Form -->
        <div id="createLoopForm" class="card hidden">
          <h3>Create a Loop</h3>
          <div class="grid">
            <div class="col-8">
              <label>Title (what is this loop about?)</label>
              <input type="text" id="loopTitle" placeholder="Sushi Crawl in Tokyo" />
            </div>
            <div class="col-4">
              <label>Capacity (max participants)</label>
              <input type="number" id="loopCapacity" min="1" value="4" />
            </div>
            <div class="col-6">
              <label>Location</label>
              <input type="text" id="loopLocation" placeholder="Shibuya, Tokyo" />
            </div>
            <div class="col-6">
              <label>Date & Time</label>
              <input type="datetime-local" id="loopStartAt" />
            </div>
            <div class="col-12">
              <label>Description</label>
              <textarea id="loopDescription" placeholder="Hop between 3–4 sushi spots; casual vibe."></textarea>
            </div>
            <div class="col-12">
              <label>Activities (comma separated, optional)</label>
              <input type="text" id="loopActivities" placeholder="sushi, foodies, walking" />
            </div>
          </div>
          <div class="actions">
            <button id="submitCreateLoop" class="primary" type="button">Create</button>
            <button id="cancelCreateLoop" type="button" class="ghost">Cancel</button>
          </div>
        </div>

        <div id="allLoops" class="stack"></div>
      </div>
    </section>

    <!-- Matched Loops -->
    <section id="page-matched" class="page">
      <div class="card stack">
        <h2>Matched Loops</h2>
        <p class="muted">Based on your preferences.</p>
        <div id="matchedLoops" class="stack"></div>
      </div>
    </section>

    <!-- My Loops -->
    <section id="page-my" class="page">
      <div class="card stack">
        <h2>My Loops</h2>
        <div id="myLoops" class="stack"></div>
      </div>
    </section>

    <!-- Profile -->
    <section id="page-profile" class="page">
      <div class="card stack">
        <h2>My Profile</h2>

        <div class="grid">
          <div class="col-6">
            <label>Username</label>
            <input type="text" id="username" placeholder="Your display name" />
          </div>
          <div class="col-6">
            <label>Profile Photo</label>
            <input type="file" id="profilePhoto" accept="image/*" />
          </div>
          <div class="col-12">
            <div class="row">
              <img id="userPhoto" alt="Profile" width="72" height="72" style="border-radius:50%; object-fit:cover;">
              <button id="saveProfileBtn" class="primary" type="button" style="width:auto;">Save Profile</button>
            </div>
          </div>
        </div>

        <h3>Edit Preferences</h3>
        <div class="grid">
          <div class="col-4">
            <label>Climate</label>
            <select id="climate">
              <option value="">Select</option><option value="cold">Cold</option><option value="temperate">Temperate</option><option value="warm">Warm</option>
            </select>
          </div>
          <div class="col-4">
            <label>Pace</label>
            <select id="pace">
              <option value="">Select</option><option value="relaxed">Relaxed</option><option value="moderate">Moderate</option><option value="adventurous">Adventurous</option>
            </select>
          </div>
          <div class="col-4">
            <label>Budget</label>
            <select id="budget">
              <option value="">Select</option><option value="low">Low</option><option value="medium">Medium</option><option value="high">High</option>
            </select>
          </div>
          <div class="col-12">
            <label>Activities (comma separated)</label>
            <input type="text" id="activities" placeholder="hiking, sushi, museums" />
          </div>
        </div>
        <div>
          <button id="savePrefsBtn" class="primary" type="button" style="width:auto;">Save Preferences</button>
        </div>

      </div>
    </section>

  </main>

  <script type="module" src="app.js"></script>
</body>
</html>
